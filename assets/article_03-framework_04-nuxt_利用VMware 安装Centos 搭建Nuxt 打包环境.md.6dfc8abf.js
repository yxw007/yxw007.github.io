import{_ as s,o as a,c as n,B as l}from"./app.7679501d.js";const D=JSON.parse(`{"title":"åˆ©ç”¨VMware å®‰è£…Centos æ­å»ºNuxt æ‰“åŒ…ç¯å¢ƒ","description":"","frontmatter":{"title":"åˆ©ç”¨VMware å®‰è£…Centos æ­å»ºNuxt æ‰“åŒ…ç¯å¢ƒ","author":"Potter","date":"2023-7-13 11:56","tags":["Nuxt","Centos","VMware"],"categories":["Nuxt"]},"headers":[{"level":2,"title":"Centos ç¯å¢ƒæ­å»º","slug":"centos-ç¯å¢ƒæ­å»º","link":"#centos-ç¯å¢ƒæ­å»º","children":[{"level":3,"title":"é‡ç½®Centos Root å¯†ç ","slug":"é‡ç½®centos-root-å¯†ç ","link":"#é‡ç½®centos-root-å¯†ç ","children":[]},{"level":3,"title":"è‡ªåŠ¨ä»¥root èº«ä»½ç™»å½•","slug":"è‡ªåŠ¨ä»¥root-èº«ä»½ç™»å½•","link":"#è‡ªåŠ¨ä»¥root-èº«ä»½ç™»å½•","children":[]},{"level":3,"title":"é…ç½®è™šæ‹Ÿæœºç½‘ç»œ","slug":"é…ç½®è™šæ‹Ÿæœºç½‘ç»œ","link":"#é…ç½®è™šæ‹Ÿæœºç½‘ç»œ","children":[]},{"level":3,"title":"å¼€æ”¾22å’Œ3000ç«¯å£","slug":"å¼€æ”¾22å’Œ3000ç«¯å£","link":"#å¼€æ”¾22å’Œ3000ç«¯å£","children":[]},{"level":3,"title":"Centos ç£ç›˜ç©ºé—´ä¸è¶³ï¼Œæ‹“å±•ç£ç›˜","slug":"centos-ç£ç›˜ç©ºé—´ä¸è¶³-æ‹“å±•ç£ç›˜","link":"#centos-ç£ç›˜ç©ºé—´ä¸è¶³-æ‹“å±•ç£ç›˜","children":[]},{"level":3,"title":"yum install å®‰è£…æŠ¥é”™ï¼š[Failed to download metadata for repo 'AppStream'](https://techglimpse.com/failed-metadata-repo-appstream-centos-8/)","slug":"yum-install-å®‰è£…æŠ¥é”™-failed-to-download-metadata-for-repo-appstream-https-techglimpse-com-failed-metadata-repo-appstream-centos-8","link":"#yum-install-å®‰è£…æŠ¥é”™-failed-to-download-metadata-for-repo-appstream-https-techglimpse-com-failed-metadata-repo-appstream-centos-8","children":[]}]},{"level":2,"title":"å®‰è£…Node ç¯å¢ƒ","slug":"å®‰è£…node-ç¯å¢ƒ","link":"#å®‰è£…node-ç¯å¢ƒ","children":[{"level":3,"title":"å®‰è£…NVM","slug":"å®‰è£…nvm","link":"#å®‰è£…nvm","children":[]}]},{"level":2,"title":"å®‰è£…Docker ç¯å¢ƒ","slug":"å®‰è£…docker-ç¯å¢ƒ","link":"#å®‰è£…docker-ç¯å¢ƒ","children":[]},{"level":2,"title":"Docker æ‰“åŒ…å’Œéƒ¨ç½²","slug":"docker-æ‰“åŒ…å’Œéƒ¨ç½²","link":"#docker-æ‰“åŒ…å’Œéƒ¨ç½²","children":[{"level":3,"title":"å®‰è£…git","slug":"å®‰è£…git","link":"#å®‰è£…git","children":[]},{"level":3,"title":"è·å–ç¤ºä¾‹ä»£ç ","slug":"è·å–ç¤ºä¾‹ä»£ç ","link":"#è·å–ç¤ºä¾‹ä»£ç ","children":[]},{"level":3,"title":"åˆ›å»ºDockerfile","slug":"åˆ›å»ºdockerfile","link":"#åˆ›å»ºdockerfile","children":[]}]},{"level":2,"title":"Docker build","slug":"docker-build","link":"#docker-build","children":[]},{"level":2,"title":"Docker run image","slug":"docker-run-image","link":"#docker-run-image","children":[{"level":3,"title":"æ¨é€é•œåƒè‡³docker hub","slug":"æ¨é€é•œåƒè‡³docker-hub","link":"#æ¨é€é•œåƒè‡³docker-hub","children":[]}]},{"level":2,"title":"å‚è€ƒæ–‡çŒ®","slug":"å‚è€ƒæ–‡çŒ®","link":"#å‚è€ƒæ–‡çŒ®","children":[]}],"relativePath":"article/03-framework/04-nuxt/åˆ©ç”¨VMware å®‰è£…Centos æ­å»ºNuxt æ‰“åŒ…ç¯å¢ƒ.md","lastUpdated":1719552086000}`),e={name:"article/03-framework/04-nuxt/åˆ©ç”¨VMware å®‰è£…Centos æ­å»ºNuxt æ‰“åŒ…ç¯å¢ƒ.md"},p=l(`<h1 id="åˆ©ç”¨vmware-å®‰è£…centos-æ­å»ºnuxt-æ‰“åŒ…ç¯å¢ƒ" tabindex="-1">åˆ©ç”¨VMware å®‰è£…Centos æ­å»ºNuxt æ‰“åŒ…ç¯å¢ƒ <a class="header-anchor" href="#åˆ©ç”¨vmware-å®‰è£…centos-æ­å»ºnuxt-æ‰“åŒ…ç¯å¢ƒ" aria-hidden="true">#</a></h1><p>VMware å®‰è£…Centos ç½‘ä¸Šæ•™ç¨‹ä¸€å¤§æŠŠï¼Œæˆ‘å°±ä¸åœ¨è¿™é‡Œèµ˜è¿°äº†ã€‚</p><h2 id="centos-ç¯å¢ƒæ­å»º" tabindex="-1">Centos ç¯å¢ƒæ­å»º <a class="header-anchor" href="#centos-ç¯å¢ƒæ­å»º" aria-hidden="true">#</a></h2><h3 id="é‡ç½®centos-root-å¯†ç " tabindex="-1">é‡ç½®Centos Root å¯†ç  <a class="header-anchor" href="#é‡ç½®centos-root-å¯†ç " aria-hidden="true">#</a></h3><p><a href="https://linuxhint.com/recover_root_password_centos/" target="_blank" rel="noreferrer">é‡ç½®Centos Root å¯†ç </a></p><p>æ›´å¤šæ“ä½œï¼šåˆ‡æ¢è‡³rootè§’è‰²å‘½ä»¤</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">//è¿›å…¥root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">è§’è‰²</span></span>
<span class="line"><span style="color:#FFCB6B;">su</span></span>
<span class="line"><span style="color:#FFCB6B;">è¾“å…¥rootå¯†ç </span></span>
<span class="line"></span></code></pre></div><h3 id="è‡ªåŠ¨ä»¥root-èº«ä»½ç™»å½•" tabindex="-1">è‡ªåŠ¨ä»¥root èº«ä»½ç™»å½• <a class="header-anchor" href="#è‡ªåŠ¨ä»¥root-èº«ä»½ç™»å½•" aria-hidden="true">#</a></h3><p>å…å¾—æ¯æ¬¡éƒ½éœ€è¦åˆ‡æ¢æˆrootè§’è‰²æ‰èƒ½æ“ä½œ</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;">**</span><span style="color:#C3E88D;">/etc/gdm/custom.conf</span></span>
<span class="line"><span style="color:#FFCB6B;">æ‰¾åˆ°[daemon]éƒ¨åˆ†</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">æ·»åŠ ä¸€ä¸‹ä¸¤å¥(æ³¨æ„ï¼šå¦‚æœå­˜åœ¨å¯¹åº”é¢„è®¡ï¼Œå¯¹åº”ç€ä¿®æ”¹</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">AutomaticLoginEnable</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">True</span></span>
<span class="line"><span style="color:#BABED8;">AutomaticLogin</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">root</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">é€€å‡ºrebootå³å¯**</span></span>
<span class="line"></span></code></pre></div><h3 id="é…ç½®è™šæ‹Ÿæœºç½‘ç»œ" tabindex="-1">é…ç½®è™šæ‹Ÿæœºç½‘ç»œ <a class="header-anchor" href="#é…ç½®è™šæ‹Ÿæœºç½‘ç»œ" aria-hidden="true">#</a></h3><p>ç”±äºéœ€è¦å¤–éƒ¨å¯ä»¥è®¿é—®è™šæ‹ŸæœºæœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æ¡¥æ¥æ¨¡å¼ã€‚<a href="https://blog.csdn.net/zhangxm_qz/article/details/122612605" target="_blank" rel="noreferrer">ç›¸å…³èµ„æ–™</a></p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710175240.png" alt=""></p><blockquote><p>æ³¨æ„ï¼šç¡®ä¿ä¸»æœºå’Œè™šæ‹Ÿæœºçš„ipåœ°å€åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œç„¶åç½‘å…³å’Œå­ç½‘æ©ç è·Ÿä¸»æœºçš„æ˜¯ä¸€æ ·çš„ã€‚æ‰“å¼€è™šæ‹ŸæœºCentos é…ç½®æ–‡ä»¶</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/etc/sysconfig/network-scripts/ifcfg-ens160</span></span>
<span class="line"><span style="color:#FFCB6B;">æ·»åŠ ä»¥ä¸‹å›¾ç¤ºå†…å®¹</span></span>
<span class="line"></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710175431.png" alt=""></p><h3 id="å¼€æ”¾22å’Œ3000ç«¯å£" tabindex="-1">å¼€æ”¾22å’Œ3000ç«¯å£ <a class="header-anchor" href="#å¼€æ”¾22å’Œ3000ç«¯å£" aria-hidden="true">#</a></h3><p>ç”±äºcentos 8å¼€å§‹éƒ½é‡‡ç”¨firewalldæ¥ç®¡ç†ç«¯å£ï¼Œæ‰€ä»¥ç”¨firewalldå¼€é…ç½®ç­–ç•¥</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># add open port</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">firewall-cmd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--permanent</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--add-port=3000/tcp</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">firewall-cmd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--permanent</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--add-port=22/tcp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># reload</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">firewall-cmd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--reload</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># firewalld port status</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">firewall-cmd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--list-all</span></span>
<span class="line"></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710175459.png" alt=""></p><h3 id="centos-ç£ç›˜ç©ºé—´ä¸è¶³-æ‹“å±•ç£ç›˜" tabindex="-1">Centos ç£ç›˜ç©ºé—´ä¸è¶³ï¼Œæ‹“å±•ç£ç›˜ <a class="header-anchor" href="#centos-ç£ç›˜ç©ºé—´ä¸è¶³-æ‹“å±•ç£ç›˜" aria-hidden="true">#</a></h3><p>å¦‚æœä½ ç£ç›˜ç©ºé—´è®¾ç½®çš„å¤Ÿç”¨ï¼Œå¯ä»¥è·³è¿‡æ­¤æ®µå†…å®¹</p><p>æ“ä½œæ­¥éª¤ï¼š</p><ol><li><p>å…³é—­è™šæ‹Ÿæœºï¼Œè°ƒæ•´ç£ç›˜ç©ºé—´å¤§å°</p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710175536.png" alt=""></p></li><li><p>åˆ›å»ºæŒ‚è½½ç‚¹ï¼šé€‰æ‹©ä¸€ä¸ªç›®å½•ä½œä¸ºæ‚¨çš„æŒ‚è½½ç‚¹ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨ <strong><code>/mnt</code></strong> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•ï¼Œä¾‹å¦‚ <strong><code>/mnt/mydisk</code></strong>ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mkdir</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/mnt/mydisk</span></span>
<span class="line"></span></code></pre></div></li><li><p>æŒ‚è½½åˆ†åŒºï¼šä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†åˆ†åŒºæŒ‚è½½åˆ°å…ˆå‰åˆ›å»ºçš„æŒ‚è½½ç‚¹ä¸Šã€‚å°† <strong><code>&lt;partition&gt;</code></strong> æ›¿æ¢ä¸ºæ‚¨è¦æŒ‚è½½çš„åˆ†åŒºè®¾å¤‡åç§°ï¼Œä¾‹å¦‚ <strong>/dev/nvme0n1p4</strong>ï¼Œå°† <strong><code>&lt;mount_point&gt;</code></strong> æ›¿æ¢ä¸ºå…ˆå‰åˆ›å»ºçš„æŒ‚è½½ç‚¹è·¯å¾„ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mount</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">partitio</span><span style="color:#BABED8;">n</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">mount_poin</span><span style="color:#BABED8;">t</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>ä¾‹å¦‚ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mount</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;">**</span><span style="color:#C3E88D;">/dev/nvme0n1p4</span><span style="color:#BABED8;">**</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/mnt/mydisk</span></span>
<span class="line"></span></code></pre></div></li><li><p>æ£€æŸ¥æŒ‚è½½ï¼šè¿è¡Œ <strong><code>df -h</code></strong> å‘½ä»¤ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°æ–°æŒ‚è½½çš„åˆ†åŒºï¼Œå¹¶åœ¨æŒ‚è½½ç‚¹å¤„æ˜¾ç¤ºå…¶å®¹é‡ä¿¡æ¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710175804.png" alt=""></p><blockquote><p>è¯´æ˜ï¼šçœ‹åˆ°**/dev/nvme0n1p4ï¼Œ**è¯´æ˜æˆåŠŸäº†</p></blockquote></li></ol><h3 id="yum-install-å®‰è£…æŠ¥é”™-failed-to-download-metadata-for-repo-appstream-https-techglimpse-com-failed-metadata-repo-appstream-centos-8" tabindex="-1">yum install å®‰è£…æŠ¥é”™ï¼š<code>[Failed to download metadata for repo &#39;AppStream&#39;](https://techglimpse.com/failed-metadata-repo-appstream-centos-8/)</code> <a class="header-anchor" href="#yum-install-å®‰è£…æŠ¥é”™-failed-to-download-metadata-for-repo-appstream-https-techglimpse-com-failed-metadata-repo-appstream-centos-8" aria-hidden="true">#</a></h3><p>Centos 8 2021å¹´12æœˆ31 åœæ­¢ç»´æŠ¤ï¼ŒCentos 8 ä¸åœ¨ä»å®˜æ–¹Centos è·å–å¼€å‘èµ„æºã€‚æ‰€ä»¥ä¿®æ”¹é•œåƒèµ„æºè·¯å¾„</p><p>è§£å†³æ–¹æ³•</p><ol><li><p><code>cd /etc/yum.repos.d/</code></p></li><li><p>è¿è¡Œä»¥ä¸‹2æ¡å‘½ä»¤</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sed</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s/mirrorlist/#mirrorlist/g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/etc/yum.repos.d/CentOS-</span><span style="color:#BABED8;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">sed</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/etc/yum.repos.d/CentOS-</span><span style="color:#BABED8;">*</span></span>
<span class="line"></span></code></pre></div></li><li><p><code>yum update -y</code></p></li></ol><h2 id="å®‰è£…node-ç¯å¢ƒ" tabindex="-1">å®‰è£…Node ç¯å¢ƒ <a class="header-anchor" href="#å®‰è£…node-ç¯å¢ƒ" aria-hidden="true">#</a></h2><p>ç”±äºåœ¨æ—¥åçš„å¼€å‘ä¸­ï¼Œè‚¯å®šä¼šç¢°åˆ°ä¸åŒçš„é¡¹ç›®éœ€è¦çš„nodeé¡¹ç›®ç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨NVMæ¥ç®¡ç†node å°†ä¼šä½¿æ—¥åå¼€å‘éå¸¸æ–¹ä¾¿</p><h3 id="å®‰è£…nvm" tabindex="-1">å®‰è£…NVM <a class="header-anchor" href="#å®‰è£…nvm" aria-hidden="true">#</a></h3><ol><li><p><code>sudo yum install curl -y</code></p></li><li><p><code>curl https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash</code></p></li><li><p><code>source ~/.bashrc</code></p></li><li><p>nvm install node-version-num æ¯”å¦‚ï¼šnvm install 16.15.1</p><blockquote><p>è¯´æ˜ï¼šå¦‚ä½•ä½ ä¸çŸ¥é“æœ‰å“ªäº›é‚£è¾¹ï¼Œå¯é€šè¿‡nvm ls-remote æŸ¥çœ‹</p></blockquote></li></ol><p>ç›¸å…³èµ„æ–™ï¼š<strong><strong><a href="https://tecadmin.net/how-to-install-nvm-on-centos-7/" target="_blank" rel="noreferrer">How To Install NVM on CentOS/RHEL 7</a></strong></strong></p><p>å¦‚æœé€šè¿‡nvm å®‰è£…nodeï¼Œæ— è®ºå®‰è£…ä»€ä¹ˆnodeç‰ˆæœ¬éƒ½æ˜¯ï¼Œæ‰¾ä¸åˆ°å¯¹åº”ç‰ˆæœ¬ä¿¡æ¯ï¼šVersion &#39;node&#39; not foundã€‚<a href="https://stackoverflow.com/questions/26476744/nvm-ls-remote-command-results-in-n-a/36300754" target="_blank" rel="noreferrer">ç›¸å…³èµ„æ–™</a></p><p>è§£å†³åŠæ³•ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">changing</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">from</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#BABED8;"> NVM_NODEJS_ORG_MIRROR</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://nodejs.org/dist/</span></span>
<span class="line"><span style="color:#FFCB6B;">to</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#BABED8;"> NVM_NODEJS_ORG_MIRROR</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://nodejs.org/dist/</span></span>
<span class="line"></span></code></pre></div><h2 id="å®‰è£…docker-ç¯å¢ƒ" tabindex="-1">å®‰è£…Docker ç¯å¢ƒ <a class="header-anchor" href="#å®‰è£…docker-ç¯å¢ƒ" aria-hidden="true">#</a></h2><ol><li><p>install docker-ce</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">dnf</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--nobest</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker-ce</span></span>
<span class="line"></span></code></pre></div><blockquote><p>è¯´æ˜ï¼šâ€”nobestï¼šä¸é€‚ç”¨æœ€ä½³åŒ…ï¼Œå› ä¸ºå®‰è£…æœ€ä½³åŒ…å¯èƒ½ä¼šå¤±è´¥ã€‚</p></blockquote></li><li><p>å¯åŠ¨Docker å®ˆæŠ¤è¿›ç¨‹</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">enable</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--now</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span></span>
<span class="line"></span></code></pre></div><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦ä»¥åŠæ¿€æ´»å’Œå¯ç”¨</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">is-active</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">is-enabled</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">docker</span></span>
<span class="line"></span></code></pre></div></li></ol><h2 id="docker-æ‰“åŒ…å’Œéƒ¨ç½²" tabindex="-1">Docker æ‰“åŒ…å’Œéƒ¨ç½² <a class="header-anchor" href="#docker-æ‰“åŒ…å’Œéƒ¨ç½²" aria-hidden="true">#</a></h2><h3 id="å®‰è£…git" tabindex="-1">å®‰è£…git <a class="header-anchor" href="#å®‰è£…git" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">git</span></span>
<span class="line"></span></code></pre></div><h3 id="è·å–ç¤ºä¾‹ä»£ç " tabindex="-1">è·å–ç¤ºä¾‹ä»£ç  <a class="header-anchor" href="#è·å–ç¤ºä¾‹ä»£ç " aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/Documents/workspace</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/Documents/workspace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">https://github.com/yxw007/Nuxt-started-demo.git</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Nuxt-started-demo</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">isntall</span></span>
<span class="line"></span></code></pre></div><h3 id="åˆ›å»ºdockerfile" tabindex="-1">åˆ›å»ºDockerfile <a class="header-anchor" href="#åˆ›å»ºdockerfile" aria-hidden="true">#</a></h3><blockquote><p>è¯´æ˜ï¼šDockerfile é…ç½®æ–‡ä»¶æ”¾ç½®åœ¨getting-started é¡¹ç›®æ ¹ç›®å½•ä¸‹</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># use node 16 alpine image</span></span>
<span class="line"><span style="color:#FFCB6B;">FROM</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">node:16-alpine</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">as</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">builder</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># create work directory in app folder</span></span>
<span class="line"><span style="color:#FFCB6B;">WORKDIR</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># install required packages for node image</span></span>
<span class="line"><span style="color:#FFCB6B;">RUN</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">apk</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--no-cache</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">add</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">openssh</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">g++</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">make</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">python3</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">git</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># copy over package.json files</span></span>
<span class="line"><span style="color:#FFCB6B;">COPY</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">package.json</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/app/</span></span>
<span class="line"><span style="color:#FFCB6B;">COPY</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">package-lock.json</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/app/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># install all depencies</span></span>
<span class="line"><span style="color:#FFCB6B;">RUN</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">npx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ci</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">cache</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">clean</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--force</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># copy over all files to the work directory</span></span>
<span class="line"><span style="color:#FFCB6B;">ADD</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">.</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># build the project</span></span>
<span class="line"><span style="color:#FFCB6B;">RUN</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">npx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># start final image</span></span>
<span class="line"><span style="color:#FFCB6B;">FROM</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">node:16-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">WORKDIR</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># copy over build files from builder step</span></span>
<span class="line"><span style="color:#FFCB6B;">COPY</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--from=builder</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/app</span><span style="color:#BABED8;">  </span><span style="color:#C3E88D;">/app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># expose the host and port 3000 to the server</span></span>
<span class="line"><span style="color:#FFCB6B;">ENV</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">HOST</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.0</span><span style="color:#C3E88D;">.0.0</span></span>
<span class="line"><span style="color:#FFCB6B;">EXPOSE</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">3000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># run the build project with node</span></span>
<span class="line"><span style="color:#FFCB6B;">ENTRYPOINT</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">node</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.output/server/index.mjs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]</span></span>
<span class="line"></span></code></pre></div><h2 id="docker-build" tabindex="-1">Docker build <a class="header-anchor" href="#docker-build" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">build</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">dockerHubAccount/Name:Tag</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">example:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">build</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">aa4790139/nuxt-started-demo:1.0.1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span></code></pre></div><h2 id="docker-run-image" tabindex="-1">Docker run image <a class="header-anchor" href="#docker-run-image" aria-hidden="true">#</a></h2><ol><li><p>docker image ls ï¼Œget image id</p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710175919.png" alt=""></p></li><li><p>docker run -itd -p dockerPort:localPort imageID</p><blockquote><p>æ³¨æ„ï¼šä¸€å®šè¦åŠ ä¸Š-itdï¼Œå¦åˆ™å¯åŠ¨åå°±æ˜¯Unable to Connectã€‚ <a href="https://blog.csdn.net/weixin_44847332/article/details/123785555" target="_blank" rel="noreferrer">ç›¸å…³èµ„æ–™</a></p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-itd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">dockerPort:localPort</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">imageID</span></span>
<span class="line"><span style="color:#FFCB6B;">example:</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-itd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">3000</span><span style="color:#C3E88D;">:3000</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">a4a5e167de0c</span></span>
<span class="line"></span></code></pre></div><p>è®¿é—®ä½ è™šæ‹Ÿæœºipå’Œ3000ç«¯å£ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710175950.png" alt=""></p><p>å¦‚æœä½ çœ‹åˆ°è¿™ä¸ªç•Œé¢ï¼Œé‚£ä¹ˆæ­å–œä½ docker è¿è¡Œ nuxt app æˆåŠŸäº†</p></li></ol><p>ç”±äºæˆ‘ä»¬ä¸å¯èƒ½æ‰“å‡ºæ¥çš„imageä»…è¿è¡Œåœ¨æˆ‘ä»¬çš„è™šæ‹Ÿæœºä¸­ï¼Œæˆ‘ä»¬å°†åŒ…æ¨é€è‡³docker hubï¼Œç„¶åçœ‹çœ‹æˆ‘ä»¬çš„image æœ‰æ²¡æœ‰é—®é¢˜ã€‚</p><h3 id="æ¨é€é•œåƒè‡³docker-hub" tabindex="-1">æ¨é€é•œåƒè‡³docker hub <a class="header-anchor" href="#æ¨é€é•œåƒè‡³docker-hub" aria-hidden="true">#</a></h3><ol><li><p>é¦–å…ˆï¼šæˆ‘ä»¬éœ€è¦ç™»å½•docker hub åˆ›å»ºå¯¹åº”çš„ä»“åº“</p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710180002.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710180010.png" alt=""></p></li><li><p>å…¶æ¬¡ï¼šè®¾ç½®access tokenï¼Œè®¾ç½®å¥½access token åæ‰èƒ½ä½¿æˆ‘ä»¬æ‰“å‡ºæ¥çš„image æ¨é€è‡³å¯¹åº”å‚è€ƒ</p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710180024.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710180031.png" alt=""></p></li><li><p>ç„¶åå°†image æ¨é€è‡³åˆšåˆ›å»ºçš„ä»“åº“ä¸­</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">push</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">aa4790139/nuxt-started-demo:1.0.1</span></span>
<span class="line"></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710180040.png" alt=""></p></li><li><p>æœ€åï¼šåˆ©ç”¨docker play éªŒè¯ï¼Œ<a href="https://labs.play-with-docker.com/" target="_blank" rel="noreferrer">å¹³å°åœ°å€</a></p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710180048.png" alt=""></p><ul><li><p>æ‹‰å–é•œåƒæ–‡ä»¶</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">aa4790139/nuxt-started-demo:1.0.1</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div></li><li><p>è¿è¡Œé•œåƒ</p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710180100.png" alt=""></p></li><li><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/yxw007/BlogPicBed@master//img/20230710180106.png" alt=""></p><blockquote><p>æç¤ºï¼š<strong>å¦‚æœçœ‹åˆ°è¿™ä¸ªç•Œé¢ï¼Œæ­å–œä½ æˆåŠŸäº†</strong>ã€‚ ğŸ‰ğŸ‰ğŸ‰ğŸ‰</p></blockquote></li></ul></li></ol><p>æ–‡ç« å†…å®¹æœ‰ç‚¹é•¿ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°ä½ ï¼Œæ„Ÿè°¢ä½ çš„è€å¿ƒé˜…è¯»ï¼Œå½“ç„¶ä¹Ÿéå¸¸æ„Ÿè°¢æ–‡ç« å¤–é“¾æ–‡ç« ä½œè€…ï¼Œæ²¡æœ‰ä»–ä»¬å¸®åŠ©æˆ‘ä¸å¯èƒ½æˆåŠŸã€‚</p><h2 id="å‚è€ƒæ–‡çŒ®" tabindex="-1">å‚è€ƒæ–‡çŒ® <a class="header-anchor" href="#å‚è€ƒæ–‡çŒ®" aria-hidden="true">#</a></h2><ul><li><a href="https://answers.netlify.com/t/nuxt-3-deploy-failed-rollup-failed-to-resolve-import-vue/77680/26" target="_blank" rel="noreferrer">https://answers.netlify.com/t/nuxt-3-deploy-failed-rollup-failed-to-resolve-import-vue/77680/26</a></li><li><a href="https://linuxconfig.org/how-to-install-docker-in-rhel-8" target="_blank" rel="noreferrer">https://linuxconfig.org/how-to-install-docker-in-rhel-8</a></li><li><a href="https://dev.to/rafaelmagalhaes/docker-and-nuxt-3-18nm" target="_blank" rel="noreferrer">https://dev.to/rafaelmagalhaes/docker-and-nuxt-3-18nm</a></li></ul>`,56),o=[p];function t(c,r,i,d,y,B){return a(),n("div",null,o)}const g=s(e,[["render",t]]);export{D as __pageData,g as default};
